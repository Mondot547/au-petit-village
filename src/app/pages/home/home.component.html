<div class="container">
    <div class="sort">
        <div class="sort-name">
            <form (ngSubmit)="onSearch()">
                <input
                    type="text"
                    [(ngModel)]="searchQuery"
                    (input)="updateSuggestions()"
                    name="searchQuery"
                    placeholder="Rechercher un produit..."
                    list="product-suggestions"
                />
                <button type="submit">
                    <fa-icon [icon]="faSearch"></fa-icon>
                </button>
                <datalist id="product-suggestions">
                    <option
                        *ngFor="let suggestion of suggestions"
                        [value]="suggestion.name"
                    ></option>
                </datalist>
            </form>
        </div>
        <span class="sort-price">
            <label for="sortOrder"
                ><fa-icon [icon]="faArrows"></fa-icon>
            </label>
            <select id="sortOrder" [(ngModel)]="sortOrder">
                <option value="asc">Croissant</option>
                <option value="desc">Décroissant</option>
            </select>
        </span>
    </div>
    <section>
        <h1>Nos produits</h1>
        <div class="flex">
            <div
                class="product"
                *ngFor="
                    let product of filteredProducts
                        | sortByPrice: sortOrder
                        | sortByName: searchText
                "
            >
                <app-card-product
                    *ngIf="product.name !== 'Produit non trouvé !'"
                    [product]="product"
                ></app-card-product>

                <span *ngIf="product.name === 'Produit non trouvé !'">
                    <p>{{ product.name }}</p>
                </span>
            </div>
        </div>
    </section>
</div>
